{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="page-header">
	<div class="page-header__bg"
		style="background-image: url({% static 'assets/images/background/page-header-bg-1-1.jpg' %});"></div>
	<!-- /.page-header__bg -->
	<div class="container">
		<ul class="thm-breadcrumb list-unstyled">
			<li><a href="{% url 'job:home' %}">Home</a></li>
			<li>Job list</li>
		</ul>
		<h2 class="page-header__title">Job List</h2><!-- /.page-header__title -->
	</div><!-- /.container -->
</div><!-- /.page-header -->

<section class="service-four gray-bg section-padding-xl--bottom section-has-bottom-margin background-repeat-no background-position-top-right section-padding--top">
	<div class="container">
    {% include 'job/home/search.html' %}
		<div class="row g-3">
        {% for job in jobs %}
        <div class="col-sm-6 col-md-4 col-lg-3">
            <div class="item">
                <div class="service-card-three">
                    <div class="service-card-three__icon">
                        <i class="icon-new-product"></i>
                    </div><!-- /.service-card-three__icon -->
                    <div class="service-card-three__content">
                        <h3 class="service-card-three__title"><a href="{% url 'job:job_detail' slug=job.slug %}">{{job.job_title}}</a></h3><!-- /.service-card-three__title -->
                        <div class="service-card-three__text">No of Position: {{job.no_of_openings}} </div><!-- /.service-card-three__text -->
                        <div class="service-card-three__text">Place: {{job.place}} </div><!-- /.service-card-three__text -->
                        <a href="{% url 'job:job_detail' slug=job.slug %}" class="blog-card-one__more">Read More <i class="fa fa-arrow-right"></i> </a><!-- /.service-card-three__text -->
                    </div><!-- /.service-card-three__content -->
                </div><!-- /.service-card-three -->
            </div><!-- /.item -->
        </div>
        {% endfor %}
        </div>
	</div><!-- /.container -->
</section>
{% if is_paginated %}
  <nav aria-label="Page navigation example">
      <ul class="pagination float-end">
          <li class="page-item ">
              {% if page_obj.has_previous %}
              <a class="page-link" href="?page={{ page_obj.previous_page_number }}{% if request.GET.skills %}&skills={{ request.GET.skills }}%2C+{% endif %}{% if request.GET.locations %}&locations={{ request.GET.locations }}%2C+{% endif %}" tabindex="-1">Prev</a>
              {% endif %}
          </li>
          {% for num in page_obj.paginator.page_range %}
          {% if  page_obj.number == num %}
          <li class="page-item active"><a class="page-link" href="?page={{ num }}{% if request.GET.skills %}&skills={{ request.GET.skills }}%2C+{% endif %}{% if request.GET.locations %}&locations={{ request.GET.locations }}%2C+{% endif %}">{{ num }}</a></li>
          {% elif num > page_obj.number|add:'-2' and num < page_obj.number|add:'2' %}
          <li class="page-item"><a class="page-link" href="?page={{ num }}{% if request.GET.skills %}&skills={{ request.GET.skills }}%2C+{% endif %}{% if request.GET.locations %}&locations={{ request.GET.locations }}%2C+{% endif %}">{{ num }}</a></li>
          {% endif %}
          {% endfor %}
          <li class="page-item">
              {% if page_obj.has_next %}
              <a class="page-link" href="?page={{ page_obj.next_page_number }} {% if request.GET.skills %}&skills={{ request.GET.skills }}%2C+{% endif %}{% if request.GET.locations %}&locations={{ request.GET.locations }}%2C+{% endif %}">Next</a>
              {% endif %}
          </li>
      </ul>
  </nav>
{% endif %}
{% endblock %}
{% block javascript %}
<!-- Voice Chatbot -->
<script src="{% static 'js/chatbot/popper.min.js' %}"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js" integrity="sha512-rstIgDs0xPgmG6RX1Aba4KV5cWJbAMcvRCVmglpam9SoHZiUCyQVDdH2LPlxoHtrv17XWblE/V/PP+Tr04hbtA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="{% static 'js/home/search.js' %}"></script>
{% endblock javascript %}
