{% extends 'dashboard/dashboard_base.html' %}
{% load crispy_forms_tags static %}
{% block dashboard_css %}
<style>
.error{
    color:red;
}
</style>
{% endblock dashboard_css %}
{% block dashboard_content %}
<h3 class="text-center">Update job</h3>

<div class="col-md-8 offset-md-2 mb-4">
    <div class="card px-4">
        <div class="title mt-4">
            <div class="text">
            <form action="." method="post"id="job_form">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="id_job_title" class="form-label">Job title</label>
                    <input type="text" name="job_title" id="id_job_title" class="form-control"value="{{job.job_title}}" required>
                </div>

                <div class="mb-3">
                    <label for="id_job_description" class="form-label">Job Description</label>
                    <textarea name="job_description" class="form-control" id="id_job_description" rows="10" required>{{job.job_description}}</textarea>
                </div>

                <div class="mb-3">
                    <label for="id_skills" class="form-label">Skills</label>
                    <input type="text" name="skills" id="id_skills" class="form-control" value="{{job.skills}}" required>
                </div>

                <div class="form-group mb-3">
                    <label for="id_experience">Experience</label>
                    <select class="form-control mt-2" name="experience" id="id_experience">
                        <option value="{{job.experience}}">{{job.experience}}</option>
                        <option value="Fresher (less than one year)">Fresher (less than one year)</option>
                        <option value="1 year">1 year</option>
                        <option value="2 years">2 years</option>
                        <option value="3 years">3 years</option>
                        <option value="4 years">4 years</option>
                        <option value="5 years">5 years</option>
                        <option value="6 years">6 years</option>
                        <option value="7 years">7 years</option>
                        <option value="8 years">8 years</option>
                        <option value="9 years">9 years</option>
                        <option value="10 years">10 years</option>
                        <option value="12 years">12 years</option>
                        <option value="13 years">13 years</option>
                        <option value="14 years">14 years</option>
                        <option value="15 years">15 years</option>
                        <option value="16 years">16 years</option>
                        <option value="17 years">17 years</option>
                        <option value="18 years">18 years</option>
                        <option value="19 years">19 years</option>
                        <option value="20 years">20 years</option>
                        <option value="21 years">21 years</option>
                        <option value="22 years">22 years</option>
                        <option value="23 years">23 years</option>
                        <option value="24 years">24 years</option>
                        <option value="25 years">25 years</option>
                        <option value="26 years">26 years</option>
                        <option value="27 years">27 years</option>
                        <option value="28 years">28 years</option>
                        <option value="29 years">29 years</option>
                        <option value="30 years">30 years</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="id_no_of_openings" class="form-label">No of openings</label>
                    <input type="number" name="no_of_openings" id="id_no_of_openings" class="form-control" value="{{job.no_of_openings}}" required>
                </div>

                <div class="form-group">
                    <label for="id_state">State</label>
                    <select class="form-control mt-2" name="state" id="id_state"onchange="showfield(undefined)">
                        <option value="{{job.state}}">{{job.state}}</option>
                        <option value="Andra Pradesh">Andra Pradesh</option>
                        <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                        <option value="Assam">Assam</option>
                        <option value="Bihar">Bihar</option>
                        <option value="Chhattisgarh">Chhattisgarh</option>
                        <option value="Goa">Goa</option>
                        <option value="Gujarat">Gujarat</option>
                        <option value="Haryana">Haryana</option>
                        <option value="Himachal Pradesh">Himachal Pradesh</option>
                        <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                        <option value="Jharkhand">Jharkhand</option>
                        <option value="Karnataka">Karnataka</option>
                        <option value="Kerala">Kerala</option>
                        <option value="Madya Pradesh">Madya Pradesh</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Manipur">Manipur</option>
                        <option value="Meghalaya">Meghalaya</option>
                        <option value="Mizoram">Mizoram</option>
                        <option value="Nagaland">Nagaland</option>
                        <option value="Orissa">Orissa</option>
                        <option value="Punjab">Punjab</option>
                        <option value="Rajasthan">Rajasthan</option>
                        <option value="Sikkim">Sikkim</option>
                        <option value="Tamil Nadu">Tamil Nadu</option>
                        <option value="Telangana">Telangana</option>
                        <option value="Tripura">Tripura</option>
                        <option value="Uttaranchal">Uttaranchal</option>
                        <option value="Uttar Pradesh">Uttar Pradesh</option>
                        <option value="West Bengal">West Bengal</option>
                        <option disabled style="background-color:#aaa; color:#fff">UNION Territories</option>
                        <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                        <option value="Chandigarh">Chandigarh</option>
                        <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
                        <option value="Daman and Diu">Daman and Diu</option>
                        <option value="Delhi">Delhi</option>
                        <option value="Lakshadeep">Lakshadeep</option>
                        <option value="Puducherry">Puducherry</option>
                    </select>
                </div>

                <div class="form-group mt-3" id="togle_city">
                    <label for="id_city">City</label>
                    <select class="form-control mt-2"name="city" id="id_city" onchange="showfield(this.options[this.selectedIndex].value)">
                        <option value="{{job.city}}">{{job.city}}</option>
                    </select>
                </div>

                <div class="mt-3" id="div1"></div>

                <div class="my-3">
                    <label for="id_publish_check_box" class="form-label">Publish</label>
                    <input class="form-check-input" type="checkbox" name="publish" id="id_publish_check_box" {% if job.publish %}checked{% endif %}>
                </div>
                <input type="submit" class="btn btn-primary w-100" style="margin-bottom:80px;">
            </form>
            </div>
        </div>
    </div>
</div>
{% endblock dashboard_content %}
{% block dashboard_inline_javascript %}
<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js" integrity="sha512-rstIgDs0xPgmG6RX1Aba4KV5cWJbAMcvRCVmglpam9SoHZiUCyQVDdH2LPlxoHtrv17XWblE/V/PP+Tr04hbtA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="{% static 'js/dashboard/state_city.js' %}"></script>
<script src="{% static 'js/dashboard/validation.js' %}"></script>
{% endblock dashboard_inline_javascript %}